<div class="dashberg-page">
  <div class="container-fluid">

    <div class="col-md-12">
      <div class="col-md-12">
        <div class="sf-widget">
          <div class="info-bar-timestamp">
            <span class="dashberg-title">Dashberg</span>
            <div class="info-bar-refresh-button">
              <select class="select-button" ng-model="$ctrl.selectedCustomerID"
                  ng-change="$ctrl.updateID()"
                  ng-options="customer.id as customer.name for customer in $ctrl.customers">
                <option value="">All Customers</option>
              </select>
              <button class="button refresh-btn"
                ng-click="$ctrl.updateID()">
                <i class="fa fa-refresh"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-8 col-lg-heihgt">
      <div class="col-md-12 col-lg-6" ng-repeat="item in $ctrl.items">
        <div class="sf-widget performance-info-box">
          <div class="info-bar-timestamp performance-title">
            <span>{{ item.title }}</span>
            <div class="info-bar-refresh-button">
              <span>Per Cluster</span>
            </div>
          </div>
          <div class="row">
            <div class="info-box col-md-6 performance-description">
              <div class="info-box-content dashberg-sum-data">
                <span class="value -medium">{{ $ctrl.performanceData[item.name].total | aiqNumber }}</span>
                <span class="title">Total in Field</span>
              </div>
            </div>
            <div class="info-box col-md-6 performance-table">
              <div class="info-box-content">
                <table class="table table-performance">
                  <tbody>
                    <tr>
                      <td>Min</td>
                      <td class="data-bold">{{ $ctrl.performanceData[item.name].min | aiqNumber }}</td>
                    </tr>
                    <tr>
                      <td>Max</td>
                      <td class="data-bold">{{ $ctrl.performanceData[item.name].max | aiqNumber }}</td>
                    </tr>
                    <tr>
                      <td>Avg</td>
                      <td class="data-bold">{{ $ctrl.performanceData[item.name].avg | aiqNumber:2 }}</td>
                    </tr>
                    <tr>
                      <td>StdDev</td>
                      <td class="data-bold">{{ $ctrl.performanceData[item.name].stdDev | aiqNumber:2 }}</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class = "col-md-12 col-lg-6">
        <div class="sf-widget volume-size-info-box">
          <div class="info-bar-timestamp volume-size-title">
            <span>Volume Size</span>
            <div class="info-bar-refresh-button">
              <span>Per Cluster</span>
            </div>
          </div>
          <div class="row">
            <div class="info-box col-md-6 volume-size-description">
              <div class="info-box-content dashberg-sum-data">
                <span class="value -medium">{{ $ctrl.performanceData.volumeSize.total | bytes:false:0:false:false }}</span>
                <span class="title">Total in Field</span>
              </div>
            </div>
            <div class="info-box col-md-6 volume-size-table">
              <div class="info-box-content">
                <table class="table table-performance">
                  <tbody>
                    <tr>
                      <td>Min</td>
                      <td class="data-bold">{{ $ctrl.performanceData.volumeSize.min | bytes:false:0:false:false }}</td>
                    </tr>
                    <tr>
                      <td>Max</td>
                      <td class="data-bold">{{ $ctrl.performanceData.volumeSize.max | bytes:false:0:false:false }}</td>
                    </tr>
                    <tr>
                      <td>Avg</td>
                      <td class="data-bold">{{ $ctrl.performanceData.volumeSize.avg | bytes:false:0:false:false }}</td>
                    </tr>
                    <tr>
                      <td>StdDev</td>
                      <td class="data-bold">{{ $ctrl.performanceData.volumeSize.stdDev | bytes:false:0:false:false }}</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class = "col-md-12 col-lg-6">
        <div class="sf-widget bandwidth-info-box">
          <div class="info-bar-timestamp bandwidth-title">
            <span>Bandwidth</span>
            <div class="info-bar-refresh-button">
              <span>Per Cluster</span>
            </div>
          </div>
          <div class="row">
            <div class="info-box col-md-6 bandwidth-description">
              <div class="info-box-content dashberg-sum-data">
                <span class="value -medium">{{ $ctrl.performanceData.bandwidth.total | bytes:false:0:true:false }}</span>
                <span class="title">Total in Field</span>
              </div>
            </div>
            <div class="info-box col-md-6 bandwidth-table">
              <div class="info-box-content">
                <table class="table table-performance">
                  <tbody>
                    <tr>
                      <td>Min</td>
                      <td class="data-bold">{{ $ctrl.performanceData.bandwidth.min | bytes:false:0:true:false }}</td>
                    </tr>
                    <tr>
                      <td>Max</td>
                      <td class="data-bold">{{ $ctrl.performanceData.bandwidth.max | bytes:false:0:true:false }}</td>
                    </tr>
                    <tr>
                      <td>Avg</td>
                      <td class="data-bold">{{ $ctrl.performanceData.bandwidth.avg | bytes:false:0:true:false }}</td>
                    </tr>
                    <tr>
                      <td>StdDev</td>
                      <td class="data-bold">{{ $ctrl.performanceData.bandwidth.stdDev | bytes:false:0:true:false }}</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-4 col-lg-height">
      <div class="col-md-12">
        <div class="sf-widget metadata-info-box">
          <div class="info-bar-timestamp metadata-title">
            <span>Metadata</span>
          </div>
          <div class="row">
            <div class="info-box col-md-12 metadata-table">
              <div class="info-box-content">
                <table class="table">
                  <thead>
                    <td class="data-bold table-6">Node Type</td>
                    <td class="data-bold table-1">Count</td>
                    <td class="button-right data-bold table-3">Versions</td>
                  </thead>
                  <tbody ng-repeat="item in $ctrl.metadata">
                    <tr>
                      <td class="table-6">{{ item.type }}</td>
                      <td class="table-1">{{ item.count }}</td>
                      <td class="button-right table-3"><button class="hide-button" ng-click="$ctrl.showVersions(item.type)"><i class="fa fa-chevron-down"></i></button></td>
                    </tr>
                    <tr ng-repeat="version in item.versions" ng-if="$ctrl.versionInfo(item.type)">
                      <td class="table-6">{{ item.type }}</td>
                      <td class="table-1">{{ version.count }}</td>
                      <td class="button-right table-3">{{ version.name }}</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>